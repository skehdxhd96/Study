# *Session vs Cookie*

*<h3>세션</h3>* **방문자가 웹에 접속해서 웹 브라우저를 종료하는 시점까지.**<br>
1. 웹브라우저를 하나 여는순간 세션이 하나 생겨나고, 웹브라우절르 종료하면 그 세션이 삭제된다.<br>
2. 세션에 관련된 데이터는 서버에 저장되기 때문에 대량의 데이터가 저장 가능<br>
3. HTTP는 비연결지향 프로토콜이기 때문에 이전 상태를 저장하지 않음<br>
4. 세션을 유지하지 않게 되면 웹사이트에 요청할때마다 로그인을 해야함.<br>
5. 하지만 세션을 사용함으로써 한번만 로그인 하면 됨.<br>
6. 주로 로그인 정보 유지에 쓰임<br>
7. 세션 아이디는 주로 쿠키로 전달.
<br><br>
*<h3>로그인 원리</h3>*
![image1](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FFO2SR%2FbtqAMO5rGG7%2F0m4kExapFadfb4gzSLOFqk%2Fimg.png)
1. 웹사이트에 접속
2. 서버는 세션ID를 하나 생성하여 쿠키값으로 만들고, setCookie라는 헤더를 통해 웹 브라우저로 전송.
3. 웹브라우저는 이 쿠키값을 저장하고, 웹서버에 무언가를 요청할때마다 쿠키헤더를 통해 세션을 보냄.
4. 서버는 요청을 받을때마다 세션ID를 확인하고, 이전에 로그인했던 것이 확인되었을 때만 그에 알맞는 정보를 보내줌.

#

*<h3>쿠키</h3>* **사용자 정보를 로컬에 저장하는 것.**<br>
1. 브라우저를 종료해도 사용자 하드드라이브에 저장되기때문에 사라지지 않음. 직접 삭제하거나, 기간만료가 되어야함.<br>
2. 쿠키는 client pc에 직접 저장되는 정보기때문에, 다른 사용자에 의해 변경, 삭제가 가능하여 보안성이 낮음<br>
3. 자동로그인에 많이 쓰임(쿠키는 개인아이디, 비밀번호, 방문한 사이트의 정보를 담은 임시 파일로서 저장되어 해당 웹 서버에 재방문 할 시에 자동으로 로그인 되어짐).<br>
4. 팝업창(오늘 더이상 이창을 보지 않음, 쇼핑몰 장바구니 등)에도 많이 쓰임
# 

*<h3>쿠키와 세션의 사용 이유</h3>*

HTTP가 기본적으로 비연결지향 프로토콜.
새로운 페이지를 요청할때마다 새로운 접속이 이루어지고, 이전페이지와 현재페이지의 관계가 지속되지 않음.
**<h4>특정 방문자가 웹페이지에 머무르는 동안 그 방문자의 상태를 지속시키기 위해</h4>** 쿠키와 세션을 사용함.

#

*<h3>보안성이 낮은 cookie 대신 session을 사용하면 되는데 왜 그러지 않는가?</h3>*

**모든 정보를 session에 저장하게 되면 server의 메모리를 과도하게 사용하게 되어 server에 무리를 줄 수 있음.**

#

*<h3>차이점</h3>*

1. 저장위치 : 쿠키는 client pc에 파일로저장, 세션은 서버에 저장
2. 보안 : 쿠키는 보안에 취약, 세션은 쿠키를 이용해 세션id만 저장하고 그것으로 구분하며, 서버에서 처리하기때문에 보안성이 높음
3. 라이프사이클 : 쿠키는 브라우저를 종료해도 사용자가 삭제하거나 기간만료될때까지 남아있으며, 세션은 브라우저 종료 시 삭제됨.

#

*<h3>vs캐시</h3>*

1. 캐시는 이미지나 css, js파일이 사용자의 브라우저에 저장되는것을 말함.
이를 이용해서 자원이 아껴지는데, 한번 캐시에 저장되면 브라우저를 참고하기 때문에 서버에서 변경이 되었어도 사용자는 변경되지 않게 보일수도 있음.
2. 이런 부분을 캐시삭제나, 서버에서 클라이언트로 response를 보낼때 header에 캐시 만료기간을 명시하는 방법 등을 이용할 수 있음.

#

출처 : https://eungbean.github.io/2018/06/11/How-to-use-markdown/
